{
  "class": "ADC",
  "schemaVersion": "3.0.0",
  "id": "LBaaS_UAT_NYDC",
  "label": "LBaaS configuration for vs-secure.example.com",
  "remark": "Generated by LBaaS for UAT in NYDC",
  "controls": {
    "class": "Controls",
    "trace": true,
    "logLevel": "debug"
  },
  "pools": [
    {
      "name": "pool_secure.example.com",
      "members": [
        {
          "name": "server1.example.com",
          "address": "192.168.1.201",
          "port": 8443,
          "weight": 1,
          "monitor": "http",
          "state": "enabled"
        },
        {
          "name": "server2.example.com",
          "address": "192.168.1.202",
          "port": 8443,
          "weight": 1,
          "monitor": "http",
          "state": "enabled"
        },
        {
          "name": "server3.example.com",
          "address": "192.168.1.203",
          "port": 8443,
          "weight": 1,
          "monitor": "http",
          "state": "enabled",
          "priorityGroup": 1
        }
      ],
      "monitor": {
        "type": "http",
        "send": "GET / HTTP/1.1\\r\\nHost: \\r\\nConnection: close\\r\\n\\r\\n",
        "recv": "",
        "interval": 5,
        "timeout": 15,
        "retries": 3
      },
      "load_balancing_mode": "least-connections-member",
      "persistence": {
        "type": "cookie",
        "cookie_name": "JSESSIONID",
        "timeout": 3600
      }
    }
  ],
  "virtualServers": [
    {
      "name": "vs_secure.example.com",
      "destination": "192.168.1.200:443",
      "pool": "pool_secure.example.com",
      "profiles": [
        "http",
        "tcp",
        "clientssl"
      ],
      "source_address_translation": {
        "type": "automap"
      },
      "translate_address": true,
      "translate_port": true,
      "ssl": {
        "name": "ssl_cert_secure.example.com",
        "cert": "/config/ssl/ssl.crt/cert_secure.example.com.crt",
        "key": "/config/ssl/ssl.key/cert_secure.example.com.key",
        "ciphers": "",
        "protocols": [
          "TLSv1.2",
          "TLSv1.3"
        ]
      },
      "http": {
        "insert_xforwarded_for": true
      }
    }
  ]
}